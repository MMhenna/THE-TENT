{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/mahdi/THE-TENT/components/main/Messages.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport firebase from \"firebase\";\nimport { Container, Card, UserInfo, UserImgWrapper, UserImg, UserInfoText, UserName, PostTime, MessageText, TextSection } from \"../styles/ MessageStyles\";\nexport default function MessagesScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      threads = _useState2[0],\n      setThreads = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    var unsubscribe = firebase.firestore().collection('rooms').onSnapshot(function (querySnapshot) {\n      var rooms = querySnapshot.docs.map(function (documentSnapshot) {\n        return _objectSpread({\n          _id: documentSnapshot.id,\n          name: ''\n        }, documentSnapshot.data());\n      });\n      setThreads(threads);\n    });\n    return React.createElement(Container, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }\n    }, React.createElement(FlatList, {\n      data: Messages,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return React.createElement(Card, {\n          onPress: function onPress() {\n            return navigation.navigate(\"Chat\", {\n              userName: item.userName\n            });\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }\n        }, React.createElement(UserInfo, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }\n        }, React.createElement(UserImgWrapper, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }\n        }, React.createElement(UserImg, {\n          source: item.userImg,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }\n        })), React.createElement(TextSection, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }\n        }, React.createElement(UserInfoText, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }\n        }, React.createElement(UserName, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 19\n          }\n        }, item.userName), React.createElement(PostTime, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 19\n          }\n        }, item.messageTime)), React.createElement(MessageText, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }\n        }, item.messageText))));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }));\n  });\n  var styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    }\n  });\n}\n;","map":{"version":3,"sources":["/home/mahdi/THE-TENT/components/main/Messages.js"],"names":["React","useState","useEffect","firebase","Container","Card","UserInfo","UserImgWrapper","UserImg","UserInfoText","UserName","PostTime","MessageText","TextSection","MessagesScreen","navigation","threads","setThreads","loading","setLoading","unsubscribe","firestore","collection","onSnapshot","querySnapshot","rooms","docs","map","documentSnapshot","_id","id","name","data","Messages","item","navigate","userName","userImg","messageTime","messageText","styles","StyleSheet","create","container","flex","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from 'react';\nimport { View, Text, Button, StyleSheet, FlatList } from \"react-native\";\nimport firebase from \"firebase\";\nimport {\n  Container,\n  Card,\n  UserInfo,\n  UserImgWrapper,\n  UserImg,\n  UserInfoText,\n  UserName,\n  PostTime,\n  MessageText,\n  TextSection,\n} from \"../styles/ MessageStyles\";\n\n\n\n// [\n\n\n  // {\n  //   id: \"1\",\n  //   userName: \"Jenny Doe\",\n  //   userImg: require(\"../../assets/users/user-3.jpg\"),\n  //   messageTime: \"4 mins ago\",\n  //   messageText:\n  //     \"Hey there, this is my test for a post of my social app in React Native.\",\n  // },\n  // {\n  //   id: \"2\",\n  //   userName: \"John Doe\",\n  //   userImg: require(\"../../assets/users/user-1.jpg\"),\n  //   messageTime: \"2 hours ago\",\n  //   messageText:\n  //     \"Hey there, this is my test for a post of my social app in React Native.\",\n  // },\n  // {\n  //   id: \"3\",\n  //   userName: \"Ken William\",\n  //   userImg: require(\"../../assets/users/user-4.jpg\"),\n  //   messageTime: \"1 hours ago\",\n  //   messageText:\n  //     \"Hey there, this is my test for a post of my social app in React Native.\",\n  // },\n  // {\n  //   id: \"4\",\n  //   userName: \"Selina Paul\",\n  //   userImg: require(\"../../assets/users/user-6.jpg\"),\n  //   messageTime: \"1 day ago\",\n  //   messageText:\n  //     \"Hey there, this is my test for a post of my social app in React Native.\",\n  // },\n  // {\n  //   id: \"5\",\n  //   userName: \"Christy Alex\",\n  //   userImg: require(\"../../assets/users/user-7.jpg\"),\n  //   messageTime: \"2 days ago\",\n  //   messageText:\n  //     \"Hey there, this is my test for a post of my social app in React Native.\",\n  // },\n// ];\n\nexport default function MessagesScreen ({ navigation }) {\n\n  const [threads, setThreads] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = firebase.firestore().collection('rooms').onSnapshot(querySnapshot =>{\n      const rooms = querySnapshot.docs.map(documentSnapshot => {\n        return{\n          _id:documentSnapshot.id,\n          // give defaults\n          name: '',\n          ...documentSnapshot.data()\n        }\n      })\n      setThreads(threads);\n    })\n\n  return (\n    <Container>\n      <FlatList\n        data={Messages}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => (\n          <Card\n            onPress={() =>\n              navigation.navigate(\"Chat\", { userName: item.userName })\n            }\n          >\n            <UserInfo>\n              <UserImgWrapper>\n                <UserImg source={item.userImg} />\n              </UserImgWrapper>\n              <TextSection>\n                <UserInfoText>\n                  <UserName>{item.userName}</UserName>\n                  <PostTime>{item.messageTime}</PostTime>\n                </UserInfoText>\n                <MessageText>{item.messageText}</MessageText>\n              </TextSection>\n            </UserInfo>\n          </Card>\n        )}\n      />\n    </Container>\n  );\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n})};\n"]},"metadata":{},"sourceType":"module"}